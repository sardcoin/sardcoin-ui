<div class="form-inline mb-2">
  <a>
    <a [routerLink]="['../register-producer']" type="text/html" class="small active mt-3">Sei un'azienda e vuoi
      pubblicare coupon su Sardcoin? Registrati qui!</a>
  </a>
</div>

<form [formGroup]="registrationForm" (ngSubmit)="onSubmit()">
  <h5 class="py-3">Dati cliente</h5>
  <div class="form-row">
    <div class="input-group mb-3 col-md-6">
      <div class="input-group-prepend">
        <span class="input-group-text"><i class="icon-user"></i></span>
      </div>
      <input type="text" formControlName="first_name" class="form-control" placeholder="Nome"
             [ngClass]="{ 'is-invalid': submitted && f.last_name.errors }"/>

      <div *ngIf="submitted && f.first_name.errors" class="invalid-feedback">
        <div *ngIf="f.first_name.errors.required">Il nome è obbligatorio</div>
        <div *ngIf="f.first_name.errors.maxlength">Il nome deve essere lungo al massimo 40 caratteri</div>
      </div>
    </div>
    <div class="input-group mb-3 ml-auto col-md-6">
      <div class="input-group-prepend">
        <span class="input-group-text"><i class="icon-user"></i></span>
      </div>
      <input type="text" formControlName="last_name" class="form-control" placeholder="Cognome"
             [ngClass]="{ 'is-invalid': submitted && f.last_name.errors }"/>

      <div *ngIf="this.submitted && f.last_name.errors" class="invalid-feedback">
        <div *ngIf="f.last_name.errors.required">Il cognome è obbligatorio</div>
        <div *ngIf="f.last_name.errors.maxlength">Il cognome deve essere lungo al massimo 40 caratteri</div>
      </div>
    </div>

  </div> <!-- First and last name -->
  <!--<div class="form-row">-->
    <!--<div class="input-group mb-3 col-md-6">-->
      <!--<div class="input-group-prepend">-->
        <!--<span class="input-group-text"><i class="icon-location-pin"></i></span>-->
      <!--</div>-->
      <!--<input type="text" formControlName="birth_place" class="form-control" placeholder="Luogo di Nascita"-->
             <!--[ngClass]="{ 'is-invalid': submitted && f.birth_place.errors }"/>-->

      <!--<div *ngIf="submitted && f.birth_place.errors" class="invalid-feedback">-->
        <!--<div *ngIf="f.birth_place.errors.required">È necessario inserire il luogo di nascita</div>-->
        <!--<div *ngIf="f.birth_place.errors.maxlength">Il luogo di nascita deve essere lungo al massimo 50 caratteri</div>-->
      <!--</div>-->
    <!--</div>-->
    <!--<div class="input-group mb-3 col-md-6">-->
      <!--<div class="input-group-prepend">-->
        <!--<span class="input-group-text"><i class="icon-calendar"></i></span>-->
      <!--</div>-->
      <!--<input type="date" formControlName="birth_date" class="form-control" placeholder="Data di Nascita"-->
             <!--[ngClass]="{ 'is-invalid': submitted && f.birth_date.errors }"/>-->

      <!--<div *ngIf="submitted && f.birth_date.errors" class="invalid-feedback">-->
        <!--<div *ngIf="f.birth_date.errors.required">È necessario inserire la data di nascita</div>-->
      <!--</div>-->
    <!--</div>-->
  <!--</div> &lt;!&ndash; Birth place and birth date &ndash;&gt;-->
  <div class="form-row">
    <div class="input-group mb-3 col-md-6">
      <div class="input-group-prepend">
        <span class="input-group-text"><i class="fas fa-barcode"></i></span>
      </div>
      <input type="text" formControlName="fiscal_code" class="form-control" placeholder="Codice fiscale"
             [ngClass]="{ 'is-invalid': submitted && f.fiscal_code.errors }"/>

      <div *ngIf="submitted && f.fiscal_code.errors" class="invalid-feedback">
        <div *ngIf="f.fiscal_code.errors.required">È necessario inserire il Codice Fiscale</div>
        <div *ngIf="f.fiscal_code.errors.maxlength">Il Codice Fiscale deve essere lungo 16 caratteri</div>
        <div *ngIf="f.fiscal_code.errors.InvalidFiscalCode">Codice fiscale non valido</div>
      </div>


    </div>

    <!--<div class="input-group mb-3 col-md-6">-->
      <!--<div class="input-group-prepend">-->
        <!--&lt;!&ndash;<span class="input-group-text">@</span>&ndash;&gt;-->
        <!--<span class="input-group-text"><i class="fab fa-paypal"></i></span>-->
      <!--</div>-->
      <!--<input type="text" formControlName="email_paypal" class="form-control" placeholder="Email Paypal"-->
             <!--[ngClass]="{ 'is-invalid': submitted && f.email_paypal.errors }"/>-->

      <!--<div *ngIf="submitted && f.email_paypal.errors" class="invalid-feedback">-->
        <!--&lt;!&ndash;<div *ngIf="f.email_paypal.errors.required">Email is required</div>&ndash;&gt;-->
        <!--<div *ngIf="f.email_paypal.errors.email">Email non valida</div>-->
      <!--</div>-->


    <!--</div> &lt;!&ndash; Mail Paypal &ndash;&gt;-->
  </div>


  <!--<div class="form-row">-->
    <!--<div class="input-group mb-3 col-md-6">-->
      <!--<div class="input-group-prepend">-->
        <!--<span class="input-group-text"><i class="fas fa-map-marker"></i></span>-->
      <!--</div>-->
      <!--<input type="text" formControlName="address" class="form-control" placeholder="Indirizzo"-->
             <!--[ngClass]="{ 'is-invalid': submitted && f.address.errors }"/>-->

      <!--<div *ngIf="submitted && f.address.errors" class="invalid-feedback">-->
        <!--<div *ngIf="f.address.errors.required">È necessario inserire l'indirizzo</div>-->
        <!--<div *ngIf="f.address.errors.maxlength">L'indirzzo deve essere lungo al massimo 100 caratteri</div>-->
      <!--</div>-->
    <!--</div>-->
    <!--<div class="input-group mb-3 col-md-6">-->
      <!--<div class="input-group-prepend">-->
        <!--<span class="input-group-text"><i class="fas fa-globe"></i></span>-->
      <!--</div>-->
      <!--<input type="text" formControlName="city" class="form-control" placeholder="Città di residenza"-->
             <!--[ngClass]="{ 'is-invalid': submitted && f.city.errors }"/>-->

      <!--<div *ngIf="submitted && f.city.errors" class="invalid-feedback">-->
        <!--<div *ngIf="f.city.errors.required">È necessario inserire la Città</div>-->
        <!--<div *ngIf="f.city.errors.maxlength">Il nome della Città deve essere lunga al massimo 50 caratteri</div>-->
      <!--</div>-->
    <!--</div>-->
  <!--</div> &lt;!&ndash; Address and Residence City &ndash;&gt;-->
  <!--<div class="form-row">-->
    <!--<div class="input-group mb-3 col-md-6">-->
      <!--<div class="input-group-prepend">-->
        <!--<span class="input-group-text"><i class="fas fa-map"></i></span>-->
      <!--</div>-->
      <!--<input type="text" formControlName="province" class="form-control" placeholder="Provincia"-->
             <!--[ngClass]="{ 'is-invalid': submitted && f.province.errors }" maxlength="2"/>-->

      <!--<div *ngIf="submitted && f.province.errors" class="invalid-feedback">-->
        <!--<div *ngIf="f.province.errors.required">È necessario inserire la Provincia</div>-->
        <!--<div *ngIf="f.province.errors.maxlength">La sigla della provincia deve essere al massimo di 2 caratteri</div>-->
      <!--</div>-->
    <!--</div>-->
    <!--<div class="input-group mb-3 col-md-6">-->
      <!--<div class="input-group-prepend">-->
        <!--<span class="input-group-text"><i class="fas fa-code"></i></span>-->
      <!--</div>-->
      <!--<input type="text" formControlName="zip" class="form-control" placeholder="Cap"-->
             <!--[ngClass]="{ 'is-invalid': submitted && f.zip.errors }" maxlength="5"/>-->

      <!--<div *ngIf="submitted && f.zip.errors" class="invalid-feedback">-->
        <!--<div *ngIf="f.zip.errors.required">È necessario inserire il Cap</div>-->
        <!--<div *ngIf="f.zip.errors.maxlength">Il Codice di Aviamento Postale deve essere lungo al massimo 5 cifre</div>-->
      <!--</div>-->
    <!--</div>-->
  <!--</div> &lt;!&ndash; Province and Zip Code&ndash;&gt;-->
  <h5 class="py-3">Dati account</h5>
  <div class="form-row">
    <div class="input-group mb-3 col-md-6">
      <div class="input-group-prepend">
        <span class="input-group-text"><i class="fas fa-user-tie"></i></span>
      </div>
      <input type="text" formControlName="username" class="form-control" placeholder="Nome Utente"
             [ngClass]="{ 'is-invalid': submitted && f.username.errors }"/>

      <div *ngIf="submitted && f.username.errors" class="invalid-feedback">
        <div *ngIf="f.username.errors.required">È necessario inserire il Nome Utente</div>
        <div *ngIf="f.username.errors.maxlength">Il Nome Utente deve essere lungo al massimo 20 caratteri</div>
      </div>
    </div>
    <div class="input-group mb-3 col-md-6">
      <div class="input-group-prepend">
        <span class="input-group-text">@</span>
      </div>
      <input type="email" formControlName="email" class="form-control" placeholder="Email" [email]="true"
             [ngClass]="{ 'is-invalid': submitted && f.email.errors }"/>

      <div *ngIf="submitted && f.email.errors" class="invalid-feedback">
        <div *ngIf="f.email.errors.required">È necessario inserire l'indirizzo Email</div>
        <div *ngIf="f.email.errors.email">Email non valida!</div>
      </div>

    </div>
  </div> <!-- Email and Username -->
  <div class="form-row">
    <div class="input-group mb-3 col-md-6">
      <div class="input-group-prepend">
        <span class="input-group-text"><i class="icon-lock"></i></span>
      </div>
      <input type="password" formControlName="password" class="form-control" placeholder="Password" minlength="10"
             [ngClass]="{ 'is-invalid': submitted && f.password.errors }"/>

      <div *ngIf="submitted && f.password.errors" class="invalid-feedback">
        <div *ngIf="f.password.errors.required">È necessario inserire la Password</div>
        <div *ngIf="f.password.errors.minlength">La password deve essere lunga almeno 10 caratteri</div>
      </div>
    </div>
    <div class="input-group mb-3 col-md-6">
      <div class="input-group-prepend">
        <span class="input-group-text"><i class="icon-lock"></i></span>
      </div>
      <input type="password" formControlName="r_password" class="form-control" placeholder="Ripeti la Password"
             minlength="10">
    </div>

    <div class="alert alert-danger col-md-12"
         *ngIf="submitted && f.r_password.errors?.MatchPassword">La password non corrisponde
    </div>
  </div> <!-- Password and repeated password -->

  <div class="text-center">
    <a [routerLink]="['/authentication/login']" class="mr-2">
      <button class="btn btn-danger"><i class="fas fa-arrow-circle-left"></i> Torna al login</button>
    </a>
    <button [disabled]="loading" class="btn btn-success">Crea un Account</button>
  </div>
</form>
