<h2 class="container-fluid">I miei acquisti</h2>
<div *ngIf="coupons.length > 0" class="table-responsive d-none d-md-none d-lg-block">
  <div class="col-md-12">
    <table class="table table-striped table-borderless">
      <thead class="text-uppercase">
      <tr>
        <th scope="col" style="width: 40%">Titolo</th>
        <th scope="col" style="width: 20%">Immagine</th>
        <th scope="col" style="width: 12%">Prezzo</th>
        <th scope="col" style="width: 8%">Data</th>
        <th scope="col" style="width: 8%">Stato</th>
        <th scope="col" style="width: 12%"></th>
      </tr>
      </thead>

      <tr class="bg-blue">
        <td colspan="6"></td>
      </tr>

      <tbody class="col-sm-12 striped">
        <ng-container *ngFor="let coupon of coupons;">
          <tr> <!--*ngFor="let token of coupon.CouponTokens "> -->
            <td>
              <span style="font-size: 17px;">{{coupon.title}}</span> <br/>
              <i style="color: #999; font-size: 15px;">{{coupon.description}}</i>
            </td>
            <td>
              <div *ngIf="coupon.type === ITEM_TYPE.PACKAGE" class="coupon-package text-uppercase">
                <i class="fas fa-box-open mr-1"></i>
              </div>
              <img class="img-thumbnail" [src]="imageUrl(coupon.image)" style="max-width: 150px;" alt="Card image cap">
            </td>
            <td>{{formatPrice(coupon.price)}}</td>
            <td>{{formatDate(coupon.purchase_time)}}</td>
            <td [ngStyle]="{color: getStateColor(formatState(coupon))}" class="text-uppercase td-state font-weight-bold">
              {{formatState(coupon)}}
            </td>
            <td class="text-center">
              <button type="button" (click)="details(coupon)" class="btn btn-info text-white">
                <i class="fas fa-info-circle"></i> Dettagli
              </button>
            </td>
          </tr>
        </ng-container>
      </tbody>
    </table>
  </div>
</div> <!-- XL + LG VIEW -->
<div *ngIf="coupons.length > 0" class="d-none d-md-block d-lg-none">
  <div class="col-md-12">
    <table class="table table-striped table-borderless">
      <thead class="text-uppercase">
      <tr>
        <th scope="col" style="width: 50%">Titolo</th>
        <th scope="col" style="width: 15%">Prezzo</th>
        <th scope="col" style="width: 15%">Data</th>
        <th scope="col" style="width: 15%">Stato</th>
        <th scope="col" style="width: 5%"></th>
      </tr>
      </thead>

      <tr class="bg-blue">
        <td colspan="5"></td>
      </tr>

      <tbody class="col-sm-12 striped">
        <ng-container *ngFor="let coupon of coupons;">
          <tr> <!--*ngFor="let token of coupon.CouponTokens "> -->
            <td>
              <span style="font-size: 17px;">{{coupon.title}}</span> <br/>
              <i style="color: #999; font-size: 15px;">{{coupon.description}}</i>
            </td> <!-- Titolo -->
            <td>{{formatPrice(coupon.price)}}</td> <!-- Prezzo -->
            <td>{{formatDate(coupon.purchase_time)}}</td> <!-- Data -->
            <td [ngStyle]="{color: getStateColor(formatState(coupon))}" class="text-uppercase td-state font-weight-bold">
              {{formatState(coupon)}}
            </td> <!-- Stato -->
            <td class="text-center">
              <button type="button" (click)="details(coupon)" class="btn btn-info text-white">
                <i class="fas fa-info-circle"></i>
              </button>
            </td> <!-- Info Button -->
          </tr>
        </ng-container>
      </tbody>
    </table>
  </div>
</div> <!-- MD VIEW -->
<div *ngIf="coupons.length > 0" class="d-block d-md-none">
  <div class="col-md-12">
    <table class="table table-striped table-borderless">
      <thead class="text-uppercase">
        <tr>
          <th scope="col" style="width: 60%">Titolo</th>
          <th scope="col" style="width: 20%">Stato</th>
          <th scope="col" style="width: 20%"></th>
        </tr>
      </thead>

      <tr class="bg-blue">
        <td colspan="3"></td>
      </tr>

      <tbody class="col-sm-12 striped">
        <ng-container *ngFor="let coupon of coupons;">
          <tr>
            <td>
              <span style="font-size: 17px;">{{coupon.title}}</span> <br/>
              <i style="color: #999; font-size: 15px;">{{coupon.description.substr(0, 40) + '...'}}</i>
            </td>
            <td [ngStyle]="{color: getStateColor(formatState(coupon))}" class="text-uppercase td-state"><b>{{formatState(coupon)}}</b>
            </td>
            <td class="text-center">
              <button type="button" (click)="details(coupon)" class="btn btn-info text-white">
                <i class="fas fa-info-circle"></i>
              </button>
            </td>
          </tr>
        </ng-container>
      </tbody>
    </table>
  </div>
</div> <!-- SM VIEW -->

<div *ngIf="coupons.length === 0" class="container-fluid alert alert-primary text-left p-2 mx-3" style="max-width: 400px;" role="alert">
  <h4 class="mb-0">Non hai ancora effettuato acquisti.</h4>
</div>
