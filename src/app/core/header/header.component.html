<!-- TODO Impostare navbar personalizzate se utente Ã¨ loggato o meno -->

<!-- If user is not logged in-->

<!--*********per desktop********************-->

<div class="fixed-top">
<nav class="navbar navbar-expand-md navbar-light bg-white ">
  <button  type="button" id="sidebarCollapse" class="navbar-toggler " (click)="showSideBar()">
    <span class="navbar-toggler-icon"></span>
  </button>

    <img  *ngIf="isDesktop" src="assets/img/brand/sardcoin-logo.png" class="left">
    <div *ngIf="!isDesktop" class="left col-4 ">
      <img   src="assets/img/brand/sardcoin-logo.png" style="width:100%;height: 100%; padding-bottom: 0px"  >
    </div>



  <div class="right" id="navbarNavDropdown">
    <div style="float: left">
      <ng-container  *ngIf="!isDesktop && userType == 2">
        <button style="font-size : 2em;  " (click)="viewCart()"
              type="button" class="btn-transparent ml-auto ">
        <span   class="fas fa-shopping-cart text-warning">
          <a style=" font-size : 0.5em; text-decoration-style: solid" class="text-danger">{{quantityCart()}}</a></span>
        </button>
     </ng-container>
    </div>
    <div style="float: right"   *ngIf="!isUserLoggedIn">

      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" [routerLink]="['/authentication/login']">Login</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" [routerLink]="['/authentication/register']">Sign Up</a>
        </li>
      </ul>
    </div>

    <div style="float: right" *ngIf="isUserLoggedIn" >
      <ul class="nav navbar-nav ">
        <li class="nav-item dropdown">

            <a   class="nav-link " data-toggle="dropdown" href="#" role="button">
              <i *ngIf="isDesktop">Welcome back, <b>{{username}}</b>!</i>
            <!--<i class="fa fa-2x fa-user-tie"></i>-->
              <img class="img-avatar" src="assets/img/avatars/8.jpg" alt="{{username}}">
            </a>
          <div style="position: absolute" class="dropdown-menu  dropdown-menu-right float-right col-2">
            <div class="dropdown-header text-center">
              <strong class="text-capitalize">Settings</strong>
            </div>
            <a class="dropdown-item cursor-pointer" [routerLink]="['/reserved-area/' + userStringType +'/personal-info']">
              <i class="fa fa-user"></i> Profile</a>
            <a class="dropdown-item" href="#">
              <i class="fa fa-wrench"></i> Settings</a>
            <a class="dropdown-item cursor-pointer" (click)="openModal(template)">
              <i class="fa fa-lock"></i> Logout</a>
          </div>
        </li>
      </ul>
    </div>
  </div>
</nav>
  <app-core-breadcrumb *ngIf="isDesktop" style="padding-top: 10%;"></app-core-breadcrumb>

</div>
<ng-template #template>
  <div class="modal-header">
    <h4 class="modal-title pull-left">Logout</h4>
    <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>

  <div class="modal-body">
    <p>After the logout, you will lose your cart.</p>
  </div>

  <div class="modal-footer">
    <button type="button" class="btn btn-danger" (click)="logout()">Logout</button>
    <button type="button" class="btn btn-success" (click)="decline()">Go back</button>
  </div>
</ng-template>
